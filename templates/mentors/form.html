{% extends 'base.html' %}
{% load form_tags %}
{% block title %}{% if form.instance.pk %}Edit Mentor{% else %}Add Mentor{% endif %}{% endblock %}
{% block nav_mentors_active %} active{% endblock %}
{% block content %}
  <div class="row mb-3">
    <div class="col">
      <a class="link-secondary" href="{{ request.GET.next|default:request.META.HTTP_REFERER|default:'/' }}">‚Üê Back</a>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-9 col-xl-8">
      <h1 class="h3 mb-3">{% if form.instance.pk %}Edit Mentor{% else %}Add Mentor{% endif %}</h1>
      <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}

        <div class="card mb-4">
          <div class="card-header">Identity</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.user %}</div>
              <div class="col-md-4">{% render_field form.first_name %}</div>
              <div class="col-md-4">{% render_field form.preferred_first_name %}</div>
              <div class="col-md-4">{% render_field form.last_name %}</div>
              <div class="col-md-4">{% render_field form.pronouns %}</div>
              <div class="col-md-4">{% render_field form.photo %}</div>
              <div class="col-md-4">{% render_field form.start_year %}</div>
              <div class="col-md-4">{% render_field form.role %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Contact</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.personal_email %}</div>
              <div class="col-md-4">{% render_field form.cell_phone %}</div>
              <div class="col-md-4">{% render_field form.home_phone %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">CMU Andrew ID</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-3">{% render_field form.andrew_id %}</div>
              <div class="col-md-5">{% render_field form.andrew_email %}</div>
              <div class="col-md-4">{% render_field form.andrew_id_expiration %}</div>
              <div class="col-md-6">{% render_field form.andrew_id_sponsor %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Discord</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-3">{% render_field form.on_discord %}</div>
              <div class="col-md-9">{% render_field form.discord_username %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">CMU Access</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-6">{% render_field form.has_cmu_id_card %}</div>
              <div class="col-md-6">{% render_field form.has_cmu_building_access %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Google Access</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.has_google_team_drive_access %}</div>
              <div class="col-md-4">{% render_field form.has_google_mentor_drive_access %}</div>
              <div class="col-md-4">{% render_field form.has_google_admin_drive_access %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Platforms & Memberships</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.on_first_website %}</div>
              <div class="col-md-4">{% render_field form.signed_first_consent_form %}</div>
              <div class="col-md-4">{% render_field form.on_canvas %}</div>
              <div class="col-md-4">{% render_field form.has_zoom_account %}</div>
              <div class="col-md-4">{% render_field form.in_onshape_classroom %}</div>
              <div class="col-md-4">{% render_field form.on_canva %}</div>
              <div class="col-md-4">{% render_field form.on_google_mentor_group %}</div>
              <div class="col-md-4">{% render_field form.on_google_field_crew_group %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Clearances</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.has_paca_clearance %}</div>
              <div class="col-md-4">{% render_field form.has_patch_clearance %}</div>
              <div class="col-md-4">{% render_field form.has_fbi_clearance %}</div>
              <div class="col-md-4">{% render_field form.pa_clearances_expiration_date %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Emergency Contact</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-6">{% render_field form.emergency_contact_name %}</div>
              <div class="col-md-6">{% render_field form.emergency_contact_phone %}</div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">Status</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">{% render_field form.active %}</div>
            </div>
          </div>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-primary" type="submit">Save</button>
          <a class="btn btn-secondary" href="{{ request.GET.next|default:'/' }}">Cancel</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
